25-07-14.14:08:44.117 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 15238 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:08:44.117 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:08:44.562 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:08:44.563 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:08:44.576 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.14:08:44.859 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:08:44.864 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:08:44.865 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:08:44.865 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:08:44.887 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:08:44.887 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 752 ms
25-07-14.14:08:45.139 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:08:45.150 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:08:45.239 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:08:45.399 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:08:45.574 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:08:45.575 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:08:45.575 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:08:45.906 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:08:45.928 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:08:45.933 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:08:45.943 [main            ] INFO  Application            - Started Application in 2.013 seconds (process running for 2.236)
25-07-14.14:08:45.945 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:08:45.946 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:08:45.950 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:08:46.198 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c843b14
25-07-14.14:08:46.200 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:08:46.237 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:08:46.265 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:08:46.265 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:08:46.267 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:08:46.267 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:08:46.268 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:08:46.268 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:08:46.268 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:08:46.317 [RMI TCP Connection(1)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:08:46.318 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:08:46.319 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:08:46.336 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:08:46.602 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@2bfc97e0
25-07-14.14:08:46.602 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:08:54.602 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:08:54.603 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:08:54.606 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:08:54.635 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:08:54.635 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:08:54.636 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:08:54.637 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:08:54.736 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:09:15.345 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 15274 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:09:15.346 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:09:15.787 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:09:15.788 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:09:15.801 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:09:16.073 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:09:16.079 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:09:16.080 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:09:16.080 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:09:16.105 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:09:16.105 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 744 ms
25-07-14.14:09:16.334 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:09:16.344 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:09:16.429 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:09:16.590 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:09:16.622 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Injection of resource dependencies failed
25-07-14.14:09:16.648 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-07-14.14:09:16.659 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-07-14.14:09:16.666 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in top.kimwonjoon.domain.agent.service.armory.factory.DefaultArmoryStrategyFactory required a bean of type 'org.springframework.ai.vectorstore.VectorStore' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.ai.vectorstore.VectorStore' in your configuration.

25-07-14.14:33:43.576 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 15697 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:33:43.577 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:33:44.038 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:33:44.039 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:33:44.053 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.14:33:44.340 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:33:44.347 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:33:44.348 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:33:44.348 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:33:44.372 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:33:44.372 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 778 ms
25-07-14.14:33:44.605 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:33:44.616 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:33:44.698 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:33:44.858 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:33:45.020 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:33:45.022 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:33:45.022 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:33:45.360 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:33:45.381 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:33:45.383 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:33:45.393 [main            ] INFO  Application            - Started Application in 2.03 seconds (process running for 2.247)
25-07-14.14:33:45.396 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:33:45.398 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:33:45.403 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:33:45.943 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f545fbb
25-07-14.14:33:45.945 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:33:46.018 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:33:46.037 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:33:46.038 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:33:46.040 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:33:46.040 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:33:46.041 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:33:46.042 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:33:46.042 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:33:46.270 [RMI TCP Connection(1)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:33:46.270 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:33:46.271 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:33:46.403 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:33:46.683 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@7780e633
25-07-14.14:33:46.683 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:34:45.399 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:34:45.464 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:35:37.495 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:35:37.497 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:35:37.500 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:35:37.501 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:35:37.502 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:35:37.526 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:35:37.527 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:35:37.614 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:38:50.948 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 15796 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:38:50.948 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:38:51.391 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:38:51.392 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:38:51.404 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:38:51.679 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:38:51.684 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:38:51.685 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:38:51.685 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:38:51.707 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:38:51.707 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 743 ms
25-07-14.14:38:51.944 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:38:51.955 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:38:52.035 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:38:52.175 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:38:52.340 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:38:52.342 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:38:52.342 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:38:52.663 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:38:52.683 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:38:52.686 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:38:52.694 [main            ] INFO  Application            - Started Application in 1.94 seconds (process running for 2.152)
25-07-14.14:38:52.697 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:38:52.698 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:38:52.702 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:38:52.958 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c0c361e
25-07-14.14:38:52.961 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:38:53.012 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:38:53.061 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:38:53.062 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:38:53.063 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:38:53.064 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:38:53.065 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:38:53.066 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:38:53.066 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:38:53.162 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:38:53.162 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:38:53.163 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:38:53.180 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:38:53.452 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@6c23610b
25-07-14.14:38:53.452 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:39:30.040 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:39:30.103 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:39:30.103 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:39:30.103 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:39:30.103 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:39:30.104 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:39:30.104 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:39:30.217 [http-nio-8091-exec-3] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:39:31.020 [http-nio-8091-exec-6] INFO  AiAgentController      - 预热装配 AiAgent 4
25-07-14.14:39:31.051 [pool-2-thread-7 ] INFO  RootNode               - 查询配置数据(ai_client_model) [3, 4, 5, 6]
25-07-14.14:39:31.052 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [3, 4, 5, 6]
25-07-14.14:39:31.052 [pool-2-thread-10] INFO  RootNode               - 查询配置数据(ai_client_advisor) [3, 4, 5, 6]
25-07-14.14:39:31.051 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [3, 4, 5, 6]
25-07-14.14:39:31.052 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [3, 4, 5, 6]
25-07-14.14:39:31.053 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client) [3, 4, 5, 6]
25-07-14.14:39:31.110 [http-nio-8091-exec-6] ERROR AiAgentController      - 预热装配 AiAgent 4
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:39:31.452 [http-nio-8091-exec-7] INFO  AiAgentController      - 预热装配 AiAgent 3
25-07-14.14:39:31.483 [pool-2-thread-13] INFO  RootNode               - 查询配置数据(ai_client_model) [3]
25-07-14.14:39:31.483 [pool-2-thread-14] INFO  RootNode               - 查询配置数据(ai_vector_database) [3]
25-07-14.14:39:31.483 [pool-2-thread-16] INFO  RootNode               - 查询配置数据(ai_client_advisor) [3]
25-07-14.14:39:31.483 [pool-2-thread-15] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [3]
25-07-14.14:39:31.484 [pool-2-thread-17] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [3]
25-07-14.14:39:31.485 [pool-2-thread-18] INFO  RootNode               - 查询配置数据(ai_client) [3]
25-07-14.14:39:31.522 [http-nio-8091-exec-7] ERROR AiAgentController      - 预热装配 AiAgent 3
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:39:31.833 [http-nio-8091-exec-8] INFO  AiAgentController      - 预热装配 AiAgent 2
25-07-14.14:39:31.848 [pool-2-thread-19] INFO  RootNode               - 查询配置数据(ai_client_model) [2]
25-07-14.14:39:31.848 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [2]
25-07-14.14:39:31.848 [pool-2-thread-20] INFO  RootNode               - 查询配置数据(ai_vector_database) [2]
25-07-14.14:39:31.848 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [2]
25-07-14.14:39:31.848 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [2]
25-07-14.14:39:31.848 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [2]
25-07-14.14:39:31.891 [http-nio-8091-exec-8] ERROR AiAgentController      - 预热装配 AiAgent 2
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:39:32.536 [http-nio-8091-exec-9] INFO  AiAgentController      - 预热装配 AiAgent 1
25-07-14.14:39:32.570 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_model) [1]
25-07-14.14:39:32.570 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [1]
25-07-14.14:39:32.570 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [1]
25-07-14.14:39:32.570 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client) [1]
25-07-14.14:39:32.570 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client_advisor) [1]
25-07-14.14:39:32.570 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [1]
25-07-14.14:39:32.627 [http-nio-8091-exec-9] ERROR AiAgentController      - 预热装配 AiAgent 1
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:39:52.699 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:39:52.732 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:39:57.895 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:39:57.896 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:39:57.898 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:39:57.899 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:39:57.899 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:39:57.922 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:39:57.923 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:39:58.103 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:43:42.211 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 15954 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:43:42.212 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:43:42.704 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:43:42.705 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:43:42.719 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.14:43:42.997 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:43:43.003 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:43:43.003 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:43:43.003 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:43:43.026 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:43:43.026 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 790 ms
25-07-14.14:43:43.261 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:43:43.273 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:43:43.373 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:43:43.505 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:43:43.537 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Injection of resource dependencies failed
25-07-14.14:43:43.572 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-07-14.14:43:43.584 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-07-14.14:43:43.591 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean of type 'top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode' that could not be found.


Action:

Consider defining a bean of type 'top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode' in your configuration.

25-07-14.14:44:05.972 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16013 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:44:05.973 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:44:06.417 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:44:06.418 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:44:06.432 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.14:44:06.706 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:44:06.712 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:44:06.712 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:44:06.712 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:44:06.733 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:44:06.734 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 744 ms
25-07-14.14:44:06.969 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:44:06.980 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:44:07.063 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:44:07.215 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:44:07.238 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Injection of resource dependencies failed
25-07-14.14:44:07.263 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-07-14.14:44:07.272 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
25-07-14.14:44:07.277 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   application
      ↓
   aiAgentPreheatService
┌─────┐
|  vectorDatabaseNode
↑     ↓
|  aiClientAdvisorNode
↑     ↓
|  aiClientModelNode
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

25-07-14.14:44:42.731 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16039 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:44:42.732 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:44:43.306 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:44:43.307 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:44:43.322 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.14:44:43.672 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:44:43.678 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:44:43.679 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:44:43.679 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:44:43.702 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:44:43.702 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
25-07-14.14:44:43.942 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:44:43.953 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:44:44.035 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:44:44.158 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:44:44.334 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:44:44.335 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:44:44.335 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:44:44.663 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:44:44.684 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:44:44.687 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:44:44.696 [main            ] INFO  Application            - Started Application in 2.206 seconds (process running for 2.405)
25-07-14.14:44:44.699 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:44:44.700 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:44:44.704 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:44:45.032 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@41516165
25-07-14.14:44:45.036 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:44:45.100 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:44:45.124 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:44:45.125 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:44:45.127 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:44:45.128 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:44:45.128 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:44:45.129 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:44:45.129 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:44:45.420 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:44:45.420 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:44:45.421 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:44:45.436 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:44:45.654 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@2b46e992
25-07-14.14:44:45.654 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:45:26.265 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:45:26.326 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:45:26.326 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:45:26.326 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:45:26.326 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:45:26.327 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:45:26.327 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:45:26.413 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:45:44.699 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:45:44.748 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:45:50.527 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 4
25-07-14.14:45:50.601 [pool-2-thread-7 ] INFO  RootNode               - 查询配置数据(ai_client_model) [3, 4, 5, 6]
25-07-14.14:45:50.601 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [3, 4, 5, 6]
25-07-14.14:45:50.601 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [3, 4, 5, 6]
25-07-14.14:45:50.601 [pool-2-thread-10] INFO  RootNode               - 查询配置数据(ai_client_advisor) [3, 4, 5, 6]
25-07-14.14:45:50.602 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [3, 4, 5, 6]
25-07-14.14:45:50.602 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client) [3, 4, 5, 6]
25-07-14.14:45:50.672 [http-nio-8091-exec-3] ERROR AiAgentController      - 预热装配 AiAgent 4
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:46:44.703 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:46:44.827 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:47:35.870 [http-nio-8091-exec-5] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:47:35.959 [pool-2-thread-13] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:47:35.959 [pool-2-thread-14] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:47:35.960 [pool-2-thread-15] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:47:35.960 [pool-2-thread-16] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:47:35.960 [pool-2-thread-17] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:47:35.961 [pool-2-thread-18] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:47:36.016 [http-nio-8091-exec-5] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:47:44.698 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:47:44.736 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:48:44.699 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:48:44.794 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:49:44.702 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:49:44.802 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:50:00.004 [scheduling-1    ] INFO  AgentTaskJob           - 开始清理无效的智能体任务
25-07-14.14:50:00.043 [scheduling-1    ] INFO  AgentTaskJob           - 发现1个无效任务需要清理
25-07-14.14:50:00.043 [scheduling-1    ] INFO  AgentTaskJob           - 无效任务清理完成，当前活跃任务数: 0
25-07-14.14:50:28.157 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:50:28.159 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:50:28.165 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:50:28.165 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:50:28.166 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:50:28.203 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:50:28.204 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:50:28.284 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:50:29.538 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16158 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:50:29.539 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:50:29.987 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:50:29.988 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:50:30.000 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:50:30.276 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:50:30.282 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:50:30.282 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:50:30.282 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:50:30.307 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:50:30.307 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 754 ms
25-07-14.14:50:30.538 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:50:30.549 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:50:30.630 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:50:30.799 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:50:30.979 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:50:30.980 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:50:30.980 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:50:31.298 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:50:31.319 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:50:31.322 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:50:31.331 [main            ] INFO  Application            - Started Application in 1.984 seconds (process running for 2.268)
25-07-14.14:50:31.333 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:50:31.334 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:50:31.338 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:50:31.588 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@3830fec0
25-07-14.14:50:31.591 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:50:31.651 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:50:31.670 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:50:31.671 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:50:31.672 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:50:31.673 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:50:31.674 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:50:31.674 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:50:31.674 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:50:31.805 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:50:31.805 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:50:31.807 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:50:31.819 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:50:32.054 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@6b2f240
25-07-14.14:50:32.055 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:50:44.432 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:50:44.470 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:50:44.471 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:50:44.471 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:50:44.471 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:50:44.471 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:50:44.471 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:50:44.577 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:51:23.314 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:51:23.316 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:51:23.321 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:51:23.321 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:51:23.322 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:51:23.369 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:51:23.370 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:51:23.486 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:51:25.640 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16185 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:51:25.641 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:51:26.118 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:51:26.119 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:51:26.133 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:51:26.415 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:51:26.421 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:51:26.421 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:51:26.421 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:51:26.445 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:51:26.445 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 783 ms
25-07-14.14:51:26.707 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:51:26.719 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:51:26.805 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:51:26.959 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:51:27.138 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:51:27.139 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:51:27.139 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:51:27.485 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:51:27.508 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:51:27.512 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:51:27.522 [main            ] INFO  Application            - Started Application in 2.089 seconds (process running for 3.356)
25-07-14.14:51:27.526 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:51:27.526 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:51:27.532 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:51:27.833 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@7cdcfdcd
25-07-14.14:51:27.835 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:51:27.909 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:51:27.931 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:51:27.931 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:51:27.933 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:51:27.934 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:51:27.934 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:51:27.935 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:51:27.935 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:51:28.114 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:51:28.114 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:51:28.115 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:51:28.133 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:51:28.379 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@26f12ce5
25-07-14.14:51:28.380 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:51:32.413 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:51:32.453 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:51:32.453 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:51:32.454 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:51:32.454 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:51:32.454 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:51:32.454 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:52:12.834 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	... 4 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 25 common frames omitted
25-07-14.14:52:16.618 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:52:16.620 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:52:16.623 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:52:16.623 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:52:16.624 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:52:16.667 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:52:16.669 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:52:16.764 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:52:31.528 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16225 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:52:31.528 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:52:31.957 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:52:31.958 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:52:31.971 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:52:32.236 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:52:32.241 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:52:32.242 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:52:32.242 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:52:32.264 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:52:32.264 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 721 ms
25-07-14.14:52:32.552 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:52:32.565 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:52:32.652 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:52:32.791 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:52:32.960 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:52:32.962 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:52:32.962 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:52:33.269 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:52:33.291 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:52:33.294 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:52:33.304 [main            ] INFO  Application            - Started Application in 1.953 seconds (process running for 2.153)
25-07-14.14:52:33.306 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:52:33.306 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:52:33.311 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:52:33.632 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5edcb010
25-07-14.14:52:33.636 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:52:33.717 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:52:33.746 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:52:33.747 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:52:33.748 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:52:33.749 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:52:33.750 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:52:33.751 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:52:33.751 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:52:34.274 [RMI TCP Connection(1)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:52:34.274 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:52:34.275 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:52:34.305 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:52:34.554 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:52:34.561 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@3bc7afed
25-07-14.14:52:34.562 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:52:34.578 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:52:34.578 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:52:34.578 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:52:34.578 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:52:34.578 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:52:34.579 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:52:34.648 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:52:41.938 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:52:41.975 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:52:41.975 [pool-2-thread-10] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:52:41.975 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:52:41.975 [pool-2-thread-7 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:52:41.976 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:52:41.976 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:52:42.043 [http-nio-8091-exec-3] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy105.queryModelConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientByClientIds(AgentRepository.java:230)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$5(RootNode.java:62)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:53:33.310 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:53:33.351 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:54:33.304 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:54:33.388 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:55:33.304 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:55:33.389 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:56:33.311 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:56:33.422 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:57:33.308 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:57:33.420 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:57:50.906 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:57:50.908 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:57:50.913 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:57:50.913 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:57:50.914 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:57:50.940 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:57:50.941 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:57:51.036 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:57:54.776 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16452 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:57:54.777 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:57:55.297 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:57:55.298 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:57:55.311 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:57:55.580 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:57:55.584 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:57:55.585 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:57:55.585 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:57:55.605 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:57:55.606 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 806 ms
25-07-14.14:57:55.830 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:57:55.841 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:57:55.926 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:57:56.066 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:57:56.237 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:57:56.238 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:57:56.238 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:57:56.551 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:57:56.572 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:57:56.575 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:57:56.585 [main            ] INFO  Application            - Started Application in 2.065 seconds (process running for 2.391)
25-07-14.14:57:56.587 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:57:56.588 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:57:56.595 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:57:56.893 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f7ed368
25-07-14.14:57:56.895 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:57:56.944 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:57:56.966 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:57:56.967 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:57:56.968 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:57:56.969 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:57:56.970 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:57:56.970 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:57:56.971 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:57:57.524 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:57:57.524 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:57:57.525 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:57:57.560 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:57:57.772 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@1524431e
25-07-14.14:57:57.772 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:58:00.681 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:58:00.723 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:58:00.723 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:58:00.723 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:58:00.723 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:58:00.724 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:58:00.724 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:58:00.755 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'modelIds' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'modelIds' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'modelIds' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'modelIds' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy100.queryModelToolConfigByModelIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientModelVOListByClientIds(AgentRepository.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientModelVOListByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$0(RootNode.java:37)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'modelIds' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:58:34.144 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.14:58:34.146 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.14:58:34.150 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.14:58:34.150 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.14:58:34.151 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.14:58:34.182 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.14:58:34.183 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.14:58:34.273 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.14:58:35.420 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16478 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.14:58:35.420 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.14:58:35.836 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.14:58:35.837 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.14:58:35.849 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.14:58:36.107 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.14:58:36.112 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.14:58:36.113 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.14:58:36.113 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.14:58:36.135 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.14:58:36.135 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 700 ms
25-07-14.14:58:36.362 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.14:58:36.372 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.14:58:36.453 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:58:36.582 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.14:58:36.750 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.14:58:36.752 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.14:58:36.752 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.14:58:37.057 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.14:58:37.077 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.14:58:37.080 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.14:58:37.089 [main            ] INFO  Application            - Started Application in 1.874 seconds (process running for 2.104)
25-07-14.14:58:37.092 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:58:37.093 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.14:58:37.098 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.14:58:37.401 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@16662d8f
25-07-14.14:58:37.403 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.14:58:37.464 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.14:58:37.484 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.14:58:37.485 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.14:58:37.486 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.14:58:37.487 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.14:58:37.488 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.14:58:37.488 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.14:58:37.488 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.14:58:37.632 [RMI TCP Connection(1)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.14:58:37.632 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.14:58:37.633 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.14:58:37.649 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.14:58:37.846 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@1c748953
25-07-14.14:58:37.846 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.14:58:49.416 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.14:58:49.464 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.14:58:49.464 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.14:58:49.465 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.14:58:49.465 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.14:58:49.465 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.14:58:49.465 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.14:58:49.511 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
### Cause: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy98.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy101.queryMcpConfigByClientIds(Unknown Source)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository.queryAiClientToolMcpVOListByClientIds(AgentRepository.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at top.kimwonjoon.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientToolMcpVOListByClientIds(<generated>)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.lambda$multiThread$2(RootNode.java:47)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	... 3 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'clientIdList' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2352)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:95)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:171)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:206)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:408)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:383)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:47)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
25-07-14.14:59:37.095 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.14:59:37.213 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:00:00.005 [scheduling-1    ] INFO  AgentTaskJob           - 开始清理无效的智能体任务
25-07-14.15:00:00.045 [scheduling-1    ] INFO  AgentTaskJob           - 发现1个无效任务需要清理
25-07-14.15:00:00.046 [scheduling-1    ] INFO  AgentTaskJob           - 无效任务清理完成，当前活跃任务数: 0
25-07-14.15:00:37.093 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:00:37.205 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:01:37.089 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:01:37.192 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:01:54.973 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:01:54.977 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:01:54.981 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:01:54.981 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:01:54.982 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:01:55.016 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:01:55.017 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:01:55.096 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:02:59.156 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16623 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:02:59.156 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:02:59.593 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:02:59.594 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:02:59.656 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 0 Redis repository interfaces.
25-07-14.15:02:59.957 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:02:59.962 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:02:59.963 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:02:59.963 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:02:59.984 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:02:59.984 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 814 ms
25-07-14.15:03:00.215 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:03:00.227 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:03:00.308 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:00.486 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:00.661 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:03:00.663 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:03:00.663 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:03:00.975 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:03:00.995 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:03:00.998 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:03:01.006 [main            ] INFO  Application            - Started Application in 2.031 seconds (process running for 2.375)
25-07-14.15:03:01.009 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:03:01.010 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:03:01.014 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:03:01.399 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@234c909e
25-07-14.15:03:01.402 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:03:01.482 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:03:01.506 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:03:01.508 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:03:01.511 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:03:01.513 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:03:01.517 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:03:01.520 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:03:01.520 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:03:01.871 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:03:01.872 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:03:01.872 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-14.15:03:01.890 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:03:02.164 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@60271c76
25-07-14.15:03:02.164 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:03:04.885 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:03:04.920 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:03:04.920 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:03:04.920 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:03:04.920 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:03:04.921 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:03:04.921 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:03:05.040 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:03:05.040 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:03:05.040 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:03:05.040 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:03:05.040 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.lang.NullPointerException: Cannot invoke "String.hashCode()" because "<local3>" is null
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.createOpenAiChatModel(AiClientModelNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:57)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:03:32.120 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:03:32.121 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:03:32.124 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:03:32.124 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:03:32.124 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:03:32.147 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:03:32.148 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:03:32.245 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:03:33.389 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16643 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:03:33.389 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:03:33.830 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:03:33.831 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:03:33.853 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
25-07-14.15:03:34.107 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:03:35.138 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16650 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:03:35.138 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:03:35.595 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:03:35.597 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:03:35.614 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
25-07-14.15:03:35.898 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:03:35.925 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 768 ms
25-07-14.15:03:36.159 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:03:36.170 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:03:36.258 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:36.389 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:36.565 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:03:36.566 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:03:36.566 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:03:36.908 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:03:36.934 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:03:36.944 [main            ] INFO  Application            - Started Application in 2.041 seconds (process running for 2.589)
25-07-14.15:03:36.945 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:03:36.945 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:03:36.946 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:03:36.946 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:03:36.951 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:03:37.329 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e730da8
25-07-14.15:03:37.330 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:03:37.387 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:03:37.390 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:03:37.406 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:03:37.406 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:03:37.408 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:03:37.408 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:03:37.409 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:03:37.409 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:03:37.409 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:03:37.415 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:03:37.416 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:03:37.540 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:03:39.895 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16659 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:03:39.896 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:03:40.323 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:03:40.324 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:03:40.337 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:03:40.621 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:03:40.626 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:03:40.627 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:03:40.627 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:03:40.649 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:03:40.649 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 738 ms
25-07-14.15:03:40.909 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:03:40.920 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:03:41.002 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:41.248 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:03:41.430 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:03:41.431 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:03:41.431 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:03:41.782 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:03:41.807 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:03:41.811 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:03:41.821 [main            ] INFO  Application            - Started Application in 2.118 seconds (process running for 2.51)
25-07-14.15:03:41.825 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:03:41.826 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:03:41.831 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:03:42.137 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f0d3aba
25-07-14.15:03:42.139 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:03:42.190 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:03:42.211 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:03:42.212 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:03:49.219 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:03:49.787 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:03:50.251 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:03:50.776 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:03:50.777 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:03:51.351 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:03:51.351 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:03:51.352 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:03:51.382 [RMI TCP Connection(6)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:03:51.591 [RMI TCP Connection(6)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@58b7fea1
25-07-14.15:03:51.592 [RMI TCP Connection(6)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:03:56.471 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:03:56.520 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:03:56.520 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:03:56.521 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:03:56.521 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:03:56.521 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:03:56.521 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:03:56.629 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:03:56.629 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:03:56.630 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:03:56.630 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:09:54.617 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:09:54.615 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=6m5s418ms).
25-07-14.15:09:54.629 [PgVectorHikariPool housekeeper] WARN  HikariPool             - PgVectorHikariPool - Thread starvation or clock leap detected (housekeeper delta=6m2s912ms).
25-07-14.15:09:54.624 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.lang.NullPointerException: Cannot invoke "String.hashCode()" because "<local3>" is null
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.createOpenAiChatModel(AiClientModelNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:57)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:09:54.668 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:09:54.670 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:09:54.709 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:09:54.711 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:09:54.711 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:09:54.712 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:09:54.759 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:09:54.760 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:09:54.883 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:09:57.695 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16798 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:09:57.695 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:09:58.226 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:09:58.227 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:09:58.249 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
25-07-14.15:09:58.626 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:09:58.654 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 939 ms
25-07-14.15:09:58.889 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:09:58.900 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:09:58.981 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:09:59.118 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:09:59.291 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:09:59.292 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:09:59.292 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:09:59.628 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:09:59.653 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:09:59.663 [main            ] INFO  Application            - Started Application in 2.188 seconds (process running for 2.632)
25-07-14.15:09:59.663 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:09:59.664 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:09:59.665 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:09:59.666 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:09:59.671 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:09:59.920 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@63c3ccae
25-07-14.15:09:59.921 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:09:59.957 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:09:59.960 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:09:59.998 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:09:59.999 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:10:00.000 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:10:00.002 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:10:00.003 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:10:00.003 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:10:00.004 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:10:00.004 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:10:00.004 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:10:00.152 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:10:04.790 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16827 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:10:04.791 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:10:05.300 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:10:05.301 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:10:05.315 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:10:05.599 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:10:05.605 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:10:05.606 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:10:05.606 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:10:05.628 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:10:05.628 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 802 ms
25-07-14.15:10:05.877 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:10:05.888 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:10:05.992 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:10:06.181 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:10:06.353 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:10:06.354 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:10:06.354 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:10:06.682 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:10:06.703 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:10:06.706 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:10:06.715 [main            ] INFO  Application            - Started Application in 2.193 seconds (process running for 2.513)
25-07-14.15:10:06.718 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:10:06.719 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:10:06.723 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:10:06.941 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@a26013d
25-07-14.15:10:06.944 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:10:06.975 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:10:06.997 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:10:06.998 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:10:06.999 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:10:07.000 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:10:07.000 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:10:07.001 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:10:07.001 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:10:07.312 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:10:07.312 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:10:07.313 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:10:07.326 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:10:07.794 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@2d2cbcd3
25-07-14.15:10:07.795 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:10:11.232 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:10:11.281 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:10:11.281 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:10:11.282 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:10:11.282 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:10:11.282 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:10:11.282 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:10:11.389 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:10:11.389 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:10:11.389 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:10:11.389 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:10:11.390 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:10:11.390 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:10:11.390 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'AiClientModel_null' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:103)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:10:51.262 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:10:51.298 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:10:51.298 [pool-2-thread-10] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:10:51.298 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:10:51.298 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:10:51.298 [pool-2-thread-7 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:10:51.299 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:10:51.389 [http-nio-8091-exec-3] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:10:51.390 [http-nio-8091-exec-3] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:10:51.390 [http-nio-8091-exec-3] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:10:51.390 [http-nio-8091-exec-3] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:10:51.398 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:10:51.399 [http-nio-8091-exec-3] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:10:51.399 [http-nio-8091-exec-3] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'AiClientModel_5' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:103)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:10:56.594 [http-nio-8091-exec-5] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:10:56.805 [pool-2-thread-13] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:10:56.805 [pool-2-thread-14] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:10:56.807 [pool-2-thread-15] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:10:56.808 [pool-2-thread-16] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:10:56.808 [pool-2-thread-17] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:10:56.808 [pool-2-thread-18] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:10:56.913 [http-nio-8091-exec-5] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:10:56.913 [http-nio-8091-exec-5] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:10:56.913 [http-nio-8091-exec-5] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:10:56.913 [http-nio-8091-exec-5] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:10:56.914 [http-nio-8091-exec-5] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:10:56.914 [http-nio-8091-exec-5] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:10:56.914 [http-nio-8091-exec-5] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'AiClientModel_5' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:103)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:10:59.881 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:10:59.882 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:10:59.885 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:10:59.885 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:10:59.886 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:10:59.909 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:10:59.910 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:11:00.039 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:11:02.314 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16861 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:11:02.314 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:11:02.746 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:11:02.747 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:11:02.759 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:11:03.017 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:11:03.022 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:11:03.022 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:11:03.022 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:11:03.045 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:11:03.046 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 713 ms
25-07-14.15:11:03.272 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:11:03.282 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:11:03.623 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:11:04.088 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:11:04.253 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:11:04.254 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:11:04.254 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:11:04.579 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:11:04.599 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:11:04.602 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:11:04.610 [main            ] INFO  Application            - Started Application in 2.486 seconds (process running for 2.693)
25-07-14.15:11:04.613 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:11:04.615 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:11:04.621 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:11:04.910 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ed3c7f4
25-07-14.15:11:04.911 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:11:04.953 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:11:04.987 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:11:04.987 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:11:04.990 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:11:04.991 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:11:04.992 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:11:04.993 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:11:04.993 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:11:05.117 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:11:05.117 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:11:05.118 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:11:05.132 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:11:05.332 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@749a5685
25-07-14.15:11:05.333 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:11:08.875 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:11:08.912 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:11:08.912 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:11:08.913 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:11:08.913 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:11:08.913 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:11:08.913 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:11:09.029 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:11:09.029 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:11:09.029 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:11:09.029 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:11:09.030 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:11:09.030 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:11:09.030 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'AiClientModel_5' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:103)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:11:52.503 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:11:52.506 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:11:52.512 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:11:52.512 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:11:52.513 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:11:52.540 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:11:52.541 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:11:52.644 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:11:54.754 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16883 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:11:54.754 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:11:55.358 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:11:55.358 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:11:55.372 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:11:55.659 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:11:55.664 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:11:55.665 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:11:55.665 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:11:55.688 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:11:55.688 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 909 ms
25-07-14.15:11:55.933 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:11:55.945 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:11:56.021 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:11:56.157 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:11:56.377 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:11:56.378 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:11:56.378 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:11:56.768 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:11:56.791 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:11:56.794 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:11:56.804 [main            ] INFO  Application            - Started Application in 2.236 seconds (process running for 2.498)
25-07-14.15:11:56.807 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:11:56.807 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:11:56.816 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:11:57.115 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@8e70a38
25-07-14.15:11:57.117 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:11:57.181 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:11:57.201 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:11:57.202 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:11:57.203 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:11:57.204 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:11:57.204 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:11:57.205 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:11:57.205 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:11:57.428 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:11:57.429 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:11:57.429 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-14.15:11:57.442 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:11:57.660 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@76ae3676
25-07-14.15:11:57.661 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:12:03.798 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:12:03.930 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:12:03.930 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:12:03.930 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:12:03.930 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:12:03.931 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:12:03.931 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:12:04.085 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:12:04.085 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:12:04.086 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:12:04.086 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:12:04.087 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:12:04.087 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:12:04.088 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'DataBaseDrive_1' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:104)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:12:56.804 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:12:56.843 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:13:56.809 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:13:56.930 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:14:56.805 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:14:56.921 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:14:57.830 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:14:57.833 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:14:57.842 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:14:57.843 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:14:57.844 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:14:57.873 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:14:57.874 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:14:57.958 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:15:31.663 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 16957 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:15:31.663 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:15:32.148 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:15:32.149 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:15:32.164 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
25-07-14.15:15:32.462 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:15:32.468 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:15:32.469 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:15:32.469 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:15:32.494 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:15:32.494 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 814 ms
25-07-14.15:15:32.745 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:15:32.757 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:15:32.840 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:15:32.978 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:15:33.161 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:15:33.162 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:15:33.162 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:15:33.515 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:15:33.541 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:15:33.547 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:15:33.557 [main            ] INFO  Application            - Started Application in 2.081 seconds (process running for 2.597)
25-07-14.15:15:33.559 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:15:33.559 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:15:33.564 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:15:33.828 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@3cc6cb9
25-07-14.15:15:33.831 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:15:33.906 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:15:33.927 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:15:33.928 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:15:41.782 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:15:41.784 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:15:41.786 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:15:41.787 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:15:41.787 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:15:42.357 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:15:42.357 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:15:42.358 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:15:42.386 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:15:42.649 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@26307db9
25-07-14.15:15:42.649 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:15:44.711 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:15:44.842 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:15:44.842 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:15:44.842 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:15:44.843 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:15:44.843 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:15:44.843 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:15:44.948 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:15:44.948 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:15:44.948 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:15:44.948 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:15:44.950 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:17:27.974 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m46s200ms).
25-07-14.15:17:27.974 [PgVectorHikariPool housekeeper] WARN  HikariPool             - PgVectorHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m45s219ms).
25-07-14.15:17:27.976 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:17:27.982 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:17:27.997 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'DataBaseDrive_1' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:104)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:17:28.058 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:17:30.501 [http-nio-8091-exec-2] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:17:30.545 [pool-2-thread-7 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:17:30.545 [pool-2-thread-8 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:17:30.546 [pool-2-thread-9 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:17:30.547 [pool-2-thread-10] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:17:30.548 [pool-2-thread-11] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:17:30.548 [pool-2-thread-12] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:20:11.564 [PgVectorHikariPool housekeeper] WARN  HikariPool             - PgVectorHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m43s592ms).
25-07-14.15:20:11.563 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m43s589ms).
25-07-14.15:20:11.569 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:20:11.611 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:20:11.612 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:20:11.626 [http-nio-8091-exec-2] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:20:11.626 [http-nio-8091-exec-2] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:20:11.626 [http-nio-8091-exec-2] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:20:11.626 [http-nio-8091-exec-2] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:20:11.629 [http-nio-8091-exec-2] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:20:11.630 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:20:11.630 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:20:28.461 [http-nio-8091-exec-2] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:20:28.462 [http-nio-8091-exec-2] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'DataBaseDrive_1' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:104)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:20:28.532 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:20:28.533 [scheduling-1    ] INFO  AgentTaskJob           - 开始清理无效的智能体任务
25-07-14.15:20:28.548 [scheduling-1    ] INFO  AgentTaskJob           - 发现1个无效任务需要清理
25-07-14.15:20:28.548 [scheduling-1    ] INFO  AgentTaskJob           - 无效任务清理完成，当前活跃任务数: 0
25-07-14.15:20:31.054 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:20:31.102 [pool-2-thread-13] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:20:31.103 [pool-2-thread-14] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:20:31.103 [pool-2-thread-15] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:20:31.104 [pool-2-thread-16] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:20:31.105 [pool-2-thread-17] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:20:31.105 [pool-2-thread-18] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:20:58.017 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=46s453ms).
25-07-14.15:20:58.016 [PgVectorHikariPool housekeeper] WARN  HikariPool             - PgVectorHikariPool - Thread starvation or clock leap detected (housekeeper delta=46s450ms).
25-07-14.15:20:58.023 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:20:58.059 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:20:58.064 [http-nio-8091-exec-3] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:20:58.064 [http-nio-8091-exec-3] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:20:58.064 [http-nio-8091-exec-3] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:20:58.064 [http-nio-8091-exec-3] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:20:58.075 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:20:58.075 [http-nio-8091-exec-3] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:20:58.075 [http-nio-8091-exec-3] ERROR AiAgentController      - 预热装配 AiAgent 5
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'DataBaseDrive_1' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:104)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createAdvisor(AiClientAdvisorNode.java:84)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:58)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:35)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:40)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:20:58.085 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:20:58.087 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:20:58.092 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:20:58.092 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:20:58.093 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:20:58.126 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:20:58.127 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:20:58.266 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:21:01.483 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17066 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:21:01.484 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:21:01.972 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:21:01.973 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:21:01.986 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:21:02.291 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:21:02.297 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:21:02.298 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:21:02.298 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:21:02.322 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:21:02.322 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 826 ms
25-07-14.15:21:02.586 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:21:02.598 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:21:02.680 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:21:02.814 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:21:02.983 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:21:02.984 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:21:02.984 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:21:03.313 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:21:03.334 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:21:03.337 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:21:03.346 [main            ] INFO  Application            - Started Application in 2.068 seconds (process running for 2.337)
25-07-14.15:21:03.348 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:21:03.349 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:21:03.353 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:21:03.604 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@e178438
25-07-14.15:21:03.606 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:21:03.647 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:21:03.675 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:21:03.676 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:21:03.677 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:21:03.678 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:21:03.679 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:21:03.679 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:21:03.679 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:21:04.124 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:21:04.124 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:21:04.126 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-07-14.15:21:04.141 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:21:04.400 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@4a60d554
25-07-14.15:21:04.400 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:21:05.827 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:21:05.873 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:21:05.874 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:21:05.874 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:21:05.874 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:21:05.874 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:21:05.874 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:21:05.968 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:21:05.968 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:21:05.968 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:21:05.969 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:21:05.970 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:21:05.970 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:21:05.970 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:21:05.970 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.lang.RuntimeException: err! dbType pgvector not exist!
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.createVectorDatabaseDrive(VectorDatabaseNode.java:68)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:38)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(VectorDatabaseNode.java:27)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:21:29.387 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:21:29.392 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:21:29.398 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:21:29.399 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:21:29.400 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:21:29.457 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:21:29.458 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:21:29.651 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:21:31.079 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17090 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:21:31.080 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:21:31.544 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:21:31.545 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:21:31.558 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:21:31.840 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:21:31.846 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:21:31.846 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:21:31.846 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:21:31.870 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:21:31.870 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 774 ms
25-07-14.15:21:32.212 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:21:32.226 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:21:32.333 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:21:32.473 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:21:32.701 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:21:32.702 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:21:32.702 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:21:33.073 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:21:33.098 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:21:33.101 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:21:33.112 [main            ] INFO  Application            - Started Application in 2.225 seconds (process running for 2.796)
25-07-14.15:21:33.115 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:21:33.116 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:21:33.121 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:21:33.427 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@74cda016
25-07-14.15:21:33.430 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:21:33.488 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:21:33.507 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:21:33.508 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:21:33.510 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:21:33.510 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:21:33.511 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:21:33.511 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:21:33.511 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:21:34.050 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:21:34.050 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:21:34.051 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:21:34.082 [RMI TCP Connection(5)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:21:34.307 [RMI TCP Connection(5)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@561988e7
25-07-14.15:21:34.307 [RMI TCP Connection(5)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:21:37.348 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:21:37.387 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:21:37.387 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:21:37.387 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:21:37.387 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:21:37.388 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:21:37.388 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:21:40.402 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:21:40.403 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:21:40.403 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:21:40.403 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:21:40.404 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:22:38.442 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:22:38.452 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:22:38.453 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:22:38.453 [http-nio-8091-exec-1] ERROR AiAgentController      - 预热装配 AiAgent 5
java.lang.RuntimeException: err! dbType pgvector not exist!
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.createVectorDatabaseDrive(Unknown Source)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(Unknown Source)
	at top.kimwonjoon.domain.agent.service.armory.node.VectorDatabaseNode.doApply(Unknown Source)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:62)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientModelNode.doApply(AiClientModelNode.java:36)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:46)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:80)
	at top.kimwonjoon.domain.agent.service.armory.node.RootNode.doApply(RootNode.java:26)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at top.kimwonjoon.domain.agent.service.preheat.AiAgentPreheatService.preheat(AiAgentPreheatService.java:68)
	at top.kimwonjoon.trigger.http.AiAgentController.preheat(AiAgentController.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:22:38.556 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:22:44.436 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:22:44.437 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:22:44.440 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:22:44.441 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:22:44.441 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:22:44.469 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:22:44.470 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:22:44.620 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:22:46.075 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17122 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:22:46.076 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:22:46.549 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:22:46.550 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:22:46.570 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
25-07-14.15:22:46.857 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:22:46.887 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 794 ms
25-07-14.15:22:47.132 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:22:47.143 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:22:47.221 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:22:47.412 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:22:47.587 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:22:47.588 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:22:47.588 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:22:47.944 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:22:47.969 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:22:47.980 [main            ] INFO  Application            - Started Application in 2.105 seconds (process running for 2.623)
25-07-14.15:22:47.981 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:22:47.982 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:22:47.983 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:22:47.984 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:22:47.990 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:22:48.256 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@43254140
25-07-14.15:22:48.258 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:22:48.352 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:22:48.356 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:22:48.373 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:22:48.374 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:22:48.376 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:22:48.376 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:22:48.377 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:22:48.377 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:22:48.378 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:22:48.388 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:22:48.389 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:22:48.486 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:25:33.039 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17184 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:25:33.040 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:25:33.469 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:25:33.470 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:25:33.482 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:25:33.743 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:25:33.748 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:25:33.748 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:25:33.748 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:25:33.769 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:25:33.769 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 715 ms
25-07-14.15:25:33.994 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:25:34.006 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:25:34.086 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:25:34.222 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:25:34.388 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:25:34.390 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:25:34.390 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:25:34.703 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:25:34.722 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:25:34.725 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:25:34.733 [main            ] INFO  Application            - Started Application in 1.855 seconds (process running for 2.169)
25-07-14.15:25:34.736 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:25:34.737 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:25:34.741 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:25:35.017 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@22644de7
25-07-14.15:25:35.020 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:25:35.083 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:25:35.106 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:25:35.106 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:25:35.108 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:25:35.109 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:25:35.109 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:25:35.110 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:25:35.110 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:25:35.157 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:25:35.157 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:25:35.157 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-14.15:25:35.175 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:25:35.413 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@5d4430cc
25-07-14.15:25:35.413 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:25:37.430 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:25:37.474 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:25:37.474 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:25:37.474 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:25:37.474 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:25:37.474 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:25:37.475 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:25:37.571 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:25:37.572 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:25:37.572 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:25:37.572 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:25:37.573 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:25:37.573 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:25:37.573 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:25:37.573 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:25:37.608 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:25:37.627 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:25:37.627 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:25:37.630 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:26:01.490 [http-nio-8091-exec-2] INFO  AiAgentController      - 上传知识库，请求 aa
25-07-14.15:26:01.797 [http-nio-8091-exec-2] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:26:01.798 [http-nio-8091-exec-2] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@4a7e509f
25-07-14.15:26:01.855 [http-nio-8091-exec-2] ERROR AiAgentController      - 上传知识库，异常 aa
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:11434/api/embed": null
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.createResourceAccessException(DefaultRestClient.java:692)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:577)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:181)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:123)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:122)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at top.kimwonjoon.domain.agent.service.rag.element.SimilarTextSplitter.calculateEmbeddings(SimilarTextSplitter.java:187)
	at top.kimwonjoon.domain.agent.service.rag.element.SimilarTextSplitter.chunkDocument(SimilarTextSplitter.java:41)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:46)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.ConnectException: null
	at java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1083)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:198)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:230)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:206)
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:195)
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:760)
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:848)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:183)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:185)
	... 9 common frames omitted
25-07-14.15:26:34.737 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:26:34.825 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:27:34.738 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:27:34.851 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:28:34.736 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:28:34.812 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:29:34.738 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:29:34.821 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:30:00.012 [scheduling-1    ] INFO  AgentTaskJob           - 开始清理无效的智能体任务
25-07-14.15:30:00.057 [scheduling-1    ] INFO  AgentTaskJob           - 发现1个无效任务需要清理
25-07-14.15:30:00.057 [scheduling-1    ] INFO  AgentTaskJob           - 无效任务清理完成，当前活跃任务数: 0
25-07-14.15:30:32.367 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:30:32.372 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:30:32.380 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:30:32.380 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:30:32.381 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:30:32.421 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:30:32.422 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:30:32.504 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:30:34.639 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17382 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:30:34.639 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:30:35.077 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:30:35.078 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:30:35.090 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:30:35.353 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:30:35.358 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:30:35.358 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:30:35.359 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:30:35.380 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:30:35.380 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 725 ms
25-07-14.15:30:35.610 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:30:35.621 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:30:35.710 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:30:35.871 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:30:36.052 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:30:36.053 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:30:36.053 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:30:36.371 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:30:36.392 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:30:36.394 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:30:36.403 [main            ] INFO  Application            - Started Application in 1.956 seconds (process running for 2.165)
25-07-14.15:30:36.406 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:30:36.409 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:30:36.414 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:30:36.670 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@33770fcf
25-07-14.15:30:36.671 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:30:36.735 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:30:36.736 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:30:36.737 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:30:36.738 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:30:36.739 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:30:36.739 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:30:36.739 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:30:36.753 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:30:36.841 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:30:36.841 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:30:36.842 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:30:36.860 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:30:37.113 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@1ddf5e36
25-07-14.15:30:37.113 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:30:48.001 [http-nio-8091-exec-1] INFO  AiAgentController      - 上传知识库，请求 bbb
25-07-14.15:30:48.277 [http-nio-8091-exec-1] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:30:48.277 [http-nio-8091-exec-1] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@4cb64f9a
25-07-14.15:30:49.202 [http-nio-8091-exec-1] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:30:49.202 [http-nio-8091-exec-1] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@4cb64f9a
25-07-14.15:30:49.231 [http-nio-8091-exec-1] ERROR AiAgentController      - 上传知识库，异常 bbb
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'DataBaseDrive_1' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at top.kimwonjoon.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:78)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:104)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:53)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:31:23.103 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:31:23.107 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:31:23.113 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:31:23.113 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:31:23.115 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:31:23.151 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:31:23.153 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:31:23.242 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:31:24.525 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17440 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:31:24.526 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:31:24.963 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:31:24.964 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:31:24.976 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:31:25.237 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:31:25.242 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:31:25.243 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:31:25.243 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:31:25.264 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:31:25.265 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 721 ms
25-07-14.15:31:25.494 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:31:25.505 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:31:25.584 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:31:25.722 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:31:25.883 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:31:25.884 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:31:25.884 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:31:26.307 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:31:26.328 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:31:26.331 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:31:26.340 [main            ] INFO  Application            - Started Application in 2.05 seconds (process running for 2.391)
25-07-14.15:31:26.342 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:31:26.343 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:31:26.348 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:31:26.591 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c1216cd
25-07-14.15:31:26.594 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:31:26.631 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:31:26.652 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:31:26.652 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:31:26.654 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:31:26.655 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:31:26.655 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:31:26.656 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:31:26.656 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:31:26.780 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:31:26.780 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:31:26.781 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:31:26.800 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:31:27.055 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@6c933814
25-07-14.15:31:27.055 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:31:31.733 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:31:31.800 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:31:31.800 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:31:31.801 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:31:31.801 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:31:31.801 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:31:31.801 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:31:31.974 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:31:31.974 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:31:31.974 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:31:31.974 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:31:31.975 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:31:31.975 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:31:31.975 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:31:31.975 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:31:32.016 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:31:32.038 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:31:32.038 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:31:32.041 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:31:43.774 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 aaaaa
25-07-14.15:31:44.049 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:31:44.049 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@716a6c94
25-07-14.15:31:44.184 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:31:44.184 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@716a6c94
25-07-14.15:31:44.280 [http-nio-8091-exec-3] ERROR AiAgentController      - 上传知识库，异常 aaaaa
java.lang.NullPointerException: Cannot invoke "String.isEmpty()" because "vectorTable" is null
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.<init>(PgVectorStore.java:224)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore$PgVectorStoreBuilder.build(PgVectorStore.java:731)
	at top.kimwonjoon.domain.agent.service.armory.node.AiClientAdvisorNode.createVectorStore(AiClientAdvisorNode.java:106)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:53)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:32:26.344 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:32:26.441 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:33:26.345 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:33:26.461 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:34:26.341 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:34:26.453 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:34:42.565 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:34:42.567 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:34:42.570 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:34:42.571 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:34:42.572 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:34:42.600 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:34:42.601 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:34:42.679 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:34:44.624 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17531 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:34:44.624 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:34:45.039 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:34:45.040 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:34:45.052 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:34:45.308 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:34:45.313 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:34:45.314 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:34:45.314 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:34:45.335 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:34:45.336 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 696 ms
25-07-14.15:34:45.558 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:34:45.569 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:34:45.653 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:34:45.805 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:34:45.975 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:34:45.976 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:34:45.976 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:34:46.394 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:34:46.416 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:34:46.419 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:34:46.428 [main            ] INFO  Application            - Started Application in 1.981 seconds (process running for 2.176)
25-07-14.15:34:46.430 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:34:46.430 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:34:46.435 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:34:46.703 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@2db4c3fa
25-07-14.15:34:46.705 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:34:46.745 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:34:46.770 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:34:46.770 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:34:46.772 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:34:46.773 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:34:46.773 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:34:46.774 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:34:46.774 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:34:46.865 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:34:46.865 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:34:46.866 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:34:46.880 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:34:47.109 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@522fe12e
25-07-14.15:34:47.109 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:34:51.266 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:34:51.332 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:34:51.333 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:34:51.333 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:34:51.333 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:34:51.336 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:34:51.337 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:34:51.458 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:34:51.458 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:34:51.458 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:34:51.458 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:34:51.461 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:34:51.462 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:34:51.462 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:34:51.462 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:34:51.580 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:34:51.631 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:34:51.631 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:34:51.639 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:34:58.851 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 vvv
25-07-14.15:34:59.124 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:34:59.125 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@318c02c6
25-07-14.15:34:59.304 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:34:59.304 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@318c02c6
25-07-14.15:34:59.425 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:34:59.433 [http-nio-8091-exec-3] WARN  PgVectorStore          - Failed to obtain the embedding dimensions from the embedding model and fall backs to default:1536
org.springframework.ai.retry.NonTransientAiException: 404 - {"error":"model \"embedding\" not found, try pulling it first"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:181)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:123)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:122)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:70)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:95)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.embeddingDimensions(PgVectorStore.java:489)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.createObservationContextBuilder(PgVectorStore.java:506)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:79)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:56)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:34:59.443 [http-nio-8091-exec-3] ERROR AiAgentController      - 上传知识库，异常 vvv
org.springframework.ai.retry.NonTransientAiException: 404 - {"error":"model \"embedding\" not found, try pulling it first"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:181)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:123)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:122)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:91)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.doAdd(PgVectorStore.java:255)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$add$1(AbstractObservationVectorStore.java:85)
	at io.micrometer.observation.Observation.observe(Observation.java:498)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:85)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:56)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:35:46.428 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:35:46.517 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:36:46.431 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:36:46.523 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:37:46.427 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:37:46.526 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:38:46.432 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:38:46.530 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:39:46.429 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:39:46.540 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:40:00.004 [scheduling-1    ] INFO  AgentTaskJob           - 开始清理无效的智能体任务
25-07-14.15:40:00.049 [scheduling-1    ] INFO  AgentTaskJob           - 发现1个无效任务需要清理
25-07-14.15:40:00.049 [scheduling-1    ] INFO  AgentTaskJob           - 无效任务清理完成，当前活跃任务数: 0
25-07-14.15:40:46.428 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:40:46.544 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:41:00.000 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:41:00.002 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:41:00.008 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:41:00.008 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:41:00.009 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:41:00.059 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:41:00.061 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:41:00.141 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:41:02.412 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17740 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:41:02.413 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:41:02.890 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:41:02.891 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:41:02.904 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:41:03.185 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:41:03.191 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:41:03.191 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:41:03.191 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:41:03.214 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:41:03.214 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 785 ms
25-07-14.15:41:03.466 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:41:03.478 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:41:03.566 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:41:03.708 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:41:03.887 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:41:03.889 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:41:03.889 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:41:04.223 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:41:04.245 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:41:04.248 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:41:04.257 [main            ] INFO  Application            - Started Application in 2.057 seconds (process running for 2.296)
25-07-14.15:41:04.259 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:41:04.260 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:41:04.264 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:41:04.552 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@75300b81
25-07-14.15:41:04.554 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:41:04.586 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:41:04.607 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:41:04.607 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:41:04.609 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:41:04.609 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:41:04.610 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:41:04.610 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:41:04.610 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:41:05.095 [RMI TCP Connection(4)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:41:05.096 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:41:05.096 [RMI TCP Connection(4)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-14.15:41:05.131 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:41:05.390 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@108cc8eb
25-07-14.15:41:05.390 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:41:13.402 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:41:13.557 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:41:13.560 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:41:13.560 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:41:13.561 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:41:13.563 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:41:13.567 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:41:13.711 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:41:13.711 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:41:13.711 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:41:13.711 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:41:13.714 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:41:13.714 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:41:13.714 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:41:13.714 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:41:13.774 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:41:13.798 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:41:13.799 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:41:13.802 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:41:20.520 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 caca
25-07-14.15:41:20.837 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:41:20.837 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@7d222af7
25-07-14.15:41:21.782 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:41:21.782 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@7d222af7
25-07-14.15:41:21.860 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:41:21.864 [http-nio-8091-exec-3] WARN  PgVectorStore          - Failed to obtain the embedding dimensions from the embedding model and fall backs to default:1536
org.springframework.ai.retry.NonTransientAiException: 404 - {"error":"model \"embedding\" not found, try pulling it first"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:181)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:123)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:122)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:70)
	at org.springframework.ai.embedding.AbstractEmbeddingModel.dimensions(AbstractEmbeddingModel.java:95)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.embeddingDimensions(PgVectorStore.java:489)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.createObservationContextBuilder(PgVectorStore.java:506)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:79)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:56)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:41:21.873 [http-nio-8091-exec-3] ERROR AiAgentController      - 上传知识库，异常 caca
org.springframework.ai.retry.NonTransientAiException: 404 - {"error":"model \"embedding\" not found, try pulling it first"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at org.springframework.ai.ollama.api.OllamaApi.embed(OllamaApi.java:181)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.lambda$call$2(OllamaEmbeddingModel.java:123)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.ollama.OllamaEmbeddingModel.call(OllamaEmbeddingModel.java:122)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:91)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.doAdd(PgVectorStore.java:255)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$add$1(AbstractObservationVectorStore.java:85)
	at io.micrometer.observation.Observation.observe(Observation.java:498)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:85)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:56)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:42:04.257 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:42:04.348 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:43:04.257 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:43:04.373 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:43:52.958 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:43:52.964 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:43:52.969 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:43:52.969 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:43:52.970 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:43:54.618 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:43:54.620 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:43:54.741 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:43:57.067 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17835 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:43:57.067 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:43:57.525 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:43:57.526 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:43:57.537 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:43:57.809 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:43:57.815 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:43:57.815 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:43:57.815 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:43:57.838 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:43:57.838 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 754 ms
25-07-14.15:43:58.066 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:43:58.077 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:43:58.153 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:43:58.353 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:43:58.544 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:43:58.545 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:43:58.545 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:43:58.865 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:43:58.885 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:43:58.890 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:43:58.899 [main            ] INFO  Application            - Started Application in 2.039 seconds (process running for 2.254)
25-07-14.15:43:58.901 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:43:58.901 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:43:58.906 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:43:59.291 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@bdf2188
25-07-14.15:43:59.295 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:43:59.368 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:43:59.531 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:43:59.533 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:43:59.535 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:43:59.536 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:43:59.537 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:43:59.539 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:43:59.539 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:43:59.854 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:43:59.854 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:43:59.855 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:43:59.872 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:44:00.138 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@6e251a6
25-07-14.15:44:00.138 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:44:01.519 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:44:01.564 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:44:01.564 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:44:01.564 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:44:01.564 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:44:01.565 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:44:01.565 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:44:01.671 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:44:01.671 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:44:01.671 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:44:01.671 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:44:01.673 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:44:01.673 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:44:01.673 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:44:01.673 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:44:01.725 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:44:01.749 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:44:01.749 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:44:01.752 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:44:11.630 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 aa
25-07-14.15:44:11.897 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:44:11.897 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@2e498518
25-07-14.15:44:12.043 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:44:12.043 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@2e498518
25-07-14.15:44:12.156 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:44:12.811 [http-nio-8091-exec-3] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:44:12.812 [http-nio-8091-exec-3] ERROR AiAgentController      - 上传知识库，异常 aa
java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, 60.204.240.211
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:109)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:327)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:113)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:91)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:653)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:701)
	at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:1049)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.insertOrUpdateBatch(PgVectorStore.java:275)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.lambda$doAdd$0(PgVectorStore.java:259)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.doAdd(PgVectorStore.java:259)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$add$1(AbstractObservationVectorStore.java:85)
	at io.micrometer.observation.Observation.observe(Observation.java:498)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:85)
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:56)
	at top.kimwonjoon.domain.agent.service.rag.AiAgentRagService.storeRagFile(AiAgentRagService.java:56)
	at top.kimwonjoon.trigger.http.AiAgentController.uploadRagFile(AiAgentController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.15:44:58.901 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:44:59.034 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:45:58.899 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:45:59.031 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:46:58.904 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:46:59.006 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:47:06.415 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:47:06.417 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:47:06.421 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:47:06.422 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:47:06.422 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:47:06.450 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:47:06.451 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:47:06.538 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:47:08.896 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17920 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:47:08.897 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:47:09.394 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:47:09.395 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:47:09.410 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
25-07-14.15:47:09.685 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:47:09.691 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:47:09.691 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:47:09.692 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:47:09.715 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:47:09.715 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 796 ms
25-07-14.15:47:09.951 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:47:09.961 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:47:10.047 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:47:10.331 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:47:10.534 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:47:10.535 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:47:10.536 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:47:10.852 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:47:10.873 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:47:10.876 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:47:10.885 [main            ] INFO  Application            - Started Application in 2.197 seconds (process running for 2.427)
25-07-14.15:47:10.888 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:47:10.888 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:47:10.893 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:47:11.235 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@42d216f1
25-07-14.15:47:11.237 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:47:11.279 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:47:11.308 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:47:11.309 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:47:11.311 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:47:11.311 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:47:11.312 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:47:11.313 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:47:11.313 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:47:11.578 [RMI TCP Connection(2)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:47:11.578 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:47:11.579 [RMI TCP Connection(2)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:47:11.591 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:47:11.914 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@7296daec
25-07-14.15:47:11.914 [RMI TCP Connection(3)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:47:15.913 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:47:16.021 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:47:16.021 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:47:16.021 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:47:16.021 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:47:16.021 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:47:16.022 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:47:16.121 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:47:16.121 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:47:16.121 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:47:16.121 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:47:16.122 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:47:16.122 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:47:16.122 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:47:16.123 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:47:16.172 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:47:16.194 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:47:16.195 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:47:16.198 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:47:24.620 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 fasfa
25-07-14.15:47:24.875 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:47:24.875 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@2f33317
25-07-14.15:47:25.018 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:47:25.018 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@2f33317
25-07-14.15:47:25.100 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:47:25.179 [http-nio-8091-exec-3] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:47:25.370 [http-nio-8091-exec-3] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@37155721
25-07-14.15:47:25.371 [http-nio-8091-exec-3] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:47:25.830 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，结果 fasfa {"code":"0000","data":true,"info":"成功"}
25-07-14.15:48:10.885 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:48:10.933 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:48:32.107 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:48:32.108 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:48:32.111 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:48:32.112 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:48:32.112 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:48:32.146 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:48:32.148 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:48:32.410 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:48:35.022 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 17960 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:48:35.022 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:48:35.459 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:48:35.460 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:48:35.472 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.15:48:35.854 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:48:35.859 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:48:35.860 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:48:35.860 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:48:35.881 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:48:35.881 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 842 ms
25-07-14.15:48:36.112 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:48:36.123 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:48:36.210 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:48:36.370 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:48:36.538 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:48:36.539 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:48:36.539 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:48:36.866 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:48:36.887 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:48:36.890 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:48:36.899 [main            ] INFO  Application            - Started Application in 2.071 seconds (process running for 2.268)
25-07-14.15:48:36.902 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:48:36.902 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:48:36.907 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:48:37.893 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f0d4527
25-07-14.15:48:37.896 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:48:37.992 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:48:38.016 [http-nio-8091-exec-1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:48:38.016 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:48:38.017 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:48:38.032 [http-nio-8091-exec-1] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.15:48:38.057 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:48:38.058 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:48:38.059 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:48:38.060 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:48:38.060 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:48:38.061 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:48:38.061 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:48:38.075 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.15:48:38.075 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.15:48:38.076 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.15:48:38.076 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.15:48:38.076 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.15:48:38.076 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.15:48:38.266 [http-nio-8091-exec-1] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.15:48:38.266 [http-nio-8091-exec-1] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.15:48:38.266 [http-nio-8091-exec-1] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.15:48:38.266 [http-nio-8091-exec-1] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.15:48:38.267 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:48:38.267 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.15:48:38.268 [http-nio-8091-exec-1] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.15:48:38.268 [http-nio-8091-exec-1] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.15:48:38.323 [http-nio-8091-exec-1] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:48:38.343 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.15:48:38.343 [http-nio-8091-exec-1] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.15:48:38.346 [http-nio-8091-exec-1] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.15:48:38.381 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:48:38.609 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@4453dad
25-07-14.15:48:38.609 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:48:48.440 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，请求 ffafa
25-07-14.15:48:48.735 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:欧几里得距离是一种度量两个点之间距离的方法。
25-07-14.15:48:48.736 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@d097bde
25-07-14.15:48:49.201 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - sentence:我不喜欢狗。
25-07-14.15:48:49.201 [http-nio-8091-exec-3] INFO  SimilarTextSplitter    - embeddingModel:org.springframework.ai.ollama.OllamaEmbeddingModel@d097bde
25-07-14.15:48:49.278 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:48:49.626 [http-nio-8091-exec-3] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:48:49.840 [http-nio-8091-exec-3] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@16bf3f62
25-07-14.15:48:49.840 [http-nio-8091-exec-3] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:48:50.230 [http-nio-8091-exec-3] INFO  AiAgentController      - 上传知识库，结果 ffafa {"code":"0000","data":true,"info":"成功"}
25-07-14.15:49:24.327 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:49:24.328 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:49:24.331 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:49:24.331 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:49:24.331 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:49:24.362 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:49:24.363 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:49:24.456 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.15:59:41.442 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 18170 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.15:59:41.443 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.15:59:41.932 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.15:59:41.933 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.15:59:41.946 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.15:59:42.223 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.15:59:42.228 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.15:59:42.229 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.15:59:42.229 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.15:59:42.258 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.15:59:42.258 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 792 ms
25-07-14.15:59:42.593 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.15:59:42.606 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.15:59:42.691 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:59:42.842 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.15:59:43.033 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.15:59:43.034 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.15:59:43.035 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.15:59:43.362 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.15:59:43.389 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.15:59:43.392 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.15:59:43.401 [main            ] INFO  Application            - Started Application in 2.177 seconds (process running for 2.468)
25-07-14.15:59:43.403 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.15:59:43.403 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.15:59:43.408 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.15:59:43.699 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@10caef7f
25-07-14.15:59:43.700 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.15:59:43.756 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.15:59:43.926 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.15:59:43.928 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.15:59:43.931 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.15:59:43.932 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.15:59:43.933 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.15:59:43.934 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.15:59:43.935 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.15:59:44.058 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.15:59:44.058 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.15:59:44.059 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.15:59:44.071 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.15:59:44.522 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@52e4f397
25-07-14.15:59:44.522 [RMI TCP Connection(1)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.15:59:53.997 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.15:59:53.998 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.15:59:54.001 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.15:59:54.001 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.15:59:54.002 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.15:59:54.027 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.15:59:54.028 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.15:59:54.140 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.16:01:26.741 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 18217 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.16:01:26.742 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.16:01:27.187 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.16:01:27.188 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.16:01:27.201 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
25-07-14.16:01:27.468 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.16:01:27.473 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.16:01:27.474 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.16:01:27.474 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.16:01:27.495 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.16:01:27.495 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 741 ms
25-07-14.16:01:27.720 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.16:01:27.731 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.16:01:27.813 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:01:27.990 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:01:28.172 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:01:28.174 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.16:01:28.174 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.16:01:28.578 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.16:01:28.599 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.16:01:28.603 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.16:01:28.612 [main            ] INFO  Application            - Started Application in 2.05 seconds (process running for 2.362)
25-07-14.16:01:28.615 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:01:28.615 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.16:01:28.621 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.16:01:28.948 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e633bfd
25-07-14.16:01:28.953 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.16:01:29.015 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:01:29.033 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.16:01:29.034 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.16:01:29.036 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.16:01:29.037 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.16:01:29.037 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.16:01:29.038 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.16:01:29.038 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.16:01:29.407 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.16:01:29.407 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.16:01:29.408 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.16:01:29.420 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:01:29.652 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@5aa24a2a
25-07-14.16:01:29.653 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:01:57.005 [http-nio-8091-exec-5] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.16:01:57.074 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.16:01:57.075 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.16:01:57.075 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.16:01:57.076 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.16:01:57.076 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.16:01:57.077 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.16:01:57.327 [http-nio-8091-exec-5] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.16:01:57.327 [http-nio-8091-exec-5] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.16:01:57.327 [http-nio-8091-exec-5] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.16:01:57.327 [http-nio-8091-exec-5] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.16:01:57.329 [http-nio-8091-exec-5] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.16:01:57.329 [http-nio-8091-exec-5] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.16:01:57.329 [http-nio-8091-exec-5] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.16:01:57.329 [http-nio-8091-exec-5] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.16:01:57.383 [http-nio-8091-exec-5] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:01:57.411 [http-nio-8091-exec-5] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.16:01:57.411 [http-nio-8091-exec-5] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.16:01:57.414 [http-nio-8091-exec-5] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.16:02:28.616 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:02:28.664 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:02:48.525 [http-nio-8091-exec-6] INFO  AiAgentController      - AiAgent 智能体对话，请求 5 我喜欢狗吗？
25-07-14.16:02:49.368 [http-nio-8091-exec-6] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:02:49.534 [http-nio-8091-exec-6] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@1a950510
25-07-14.16:02:49.535 [http-nio-8091-exec-6] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:02:50.013 [http-nio-8091-exec-6] WARN  RetryUtils             - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"该令牌已过期 (request id: 202507141602507897282890994730)","type":"one_api_error"}}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:187)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:199)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:199)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:196)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
	at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at top.kimwonjoon.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:122)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.chatResponse(DefaultChatClient.java:435)
	at top.kimwonjoon.domain.agent.service.chat.FlowExecutorService.executeAgentFlow(FlowExecutorService.java:72)
	at top.kimwonjoon.trigger.http.AiAgentController.chatAgent(AiAgentController.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.16:02:50.017 [http-nio-8091-exec-6] ERROR AiAgentController      - AiAgent 智能体对话，异常 5 我喜欢狗吗？
java.lang.RuntimeException: Error in client execution: 5
	at top.kimwonjoon.domain.agent.service.chat.FlowExecutorService.executeAgentFlow(FlowExecutorService.java:84)
	at top.kimwonjoon.trigger.http.AiAgentController.chatAgent(AiAgentController.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.springframework.ai.retry.NonTransientAiException: 401 - {"error":{"message":"该令牌已过期 (request id: 202507141602507897282890994730)","type":"one_api_error"}}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:758)
	at org.springframework.ai.openai.api.OpenAiApi.chatCompletionEntity(OpenAiApi.java:187)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$1(OpenAiChatModel.java:199)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalCall$3(OpenAiChatModel.java:199)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:196)
	at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
	at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at top.kimwonjoon.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:122)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.chatResponse(DefaultChatClient.java:435)
	at top.kimwonjoon.domain.agent.service.chat.FlowExecutorService.executeAgentFlow(FlowExecutorService.java:72)
	... 55 common frames omitted
25-07-14.16:03:28.615 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:03:28.670 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:03:48.674 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.16:03:48.676 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.16:03:48.679 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.16:03:48.680 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.16:03:48.681 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.16:03:48.704 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.16:03:48.705 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.16:03:48.791 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.16:03:50.550 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 18284 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.16:03:50.551 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.16:03:51.170 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.16:03:51.171 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.16:03:51.185 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.16:03:51.489 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.16:03:51.495 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.16:03:51.495 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.16:03:51.495 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.16:03:51.518 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.16:03:51.518 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 948 ms
25-07-14.16:03:51.752 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.16:03:51.763 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.16:03:51.840 [redisson-netty-1-4] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:03:51.989 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:03:52.191 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:03:52.192 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.16:03:52.192 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.16:03:52.647 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.16:03:52.679 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.16:03:52.683 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.16:03:52.696 [main            ] INFO  Application            - Started Application in 2.525 seconds (process running for 3.064)
25-07-14.16:03:52.701 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:03:52.702 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.16:03:52.707 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.16:03:53.090 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c1db8a0
25-07-14.16:03:53.092 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.16:03:53.122 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:03:53.146 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.16:03:53.146 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.16:03:53.148 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.16:03:53.148 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.16:03:53.149 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.16:03:53.149 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.16:03:53.149 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.16:03:53.635 [RMI TCP Connection(1)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.16:03:53.635 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.16:03:53.636 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-14.16:03:53.659 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:03:53.922 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@240354cb
25-07-14.16:03:53.922 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:03:58.703 [http-nio-8091-exec-3] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.16:03:58.749 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.16:03:58.749 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.16:03:58.749 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.16:03:58.750 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.16:03:58.750 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.16:03:58.751 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.16:03:58.865 [http-nio-8091-exec-3] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.16:03:58.865 [http-nio-8091-exec-3] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.16:03:58.865 [http-nio-8091-exec-3] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.16:03:58.865 [http-nio-8091-exec-3] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.16:03:58.867 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.16:03:58.867 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.16:03:58.867 [http-nio-8091-exec-3] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.16:03:58.867 [http-nio-8091-exec-3] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.16:03:58.930 [http-nio-8091-exec-3] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:03:58.952 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.16:03:58.952 [http-nio-8091-exec-3] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.16:03:58.957 [http-nio-8091-exec-3] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.16:04:06.713 [http-nio-8091-exec-6] INFO  AiAgentController      - AiAgent 智能体对话，请求 5 我喜欢狗吗？
25-07-14.16:04:07.149 [http-nio-8091-exec-6] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:04:07.334 [http-nio-8091-exec-6] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@5db1d3e1
25-07-14.16:04:07.335 [http-nio-8091-exec-6] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:04:22.619 [http-nio-8091-exec-6] INFO  FlowExecutorService    - Client 5 output: <think>
Okay, let's see. The user asked, "我喜欢狗吗？" which means "Do I like dogs?" in English. Now, I need to check if the context provided includes any information related to the user's preference for dogs.

Looking at the context, there's a list of people with their ages. The names are various, but there's no mention of any preferences, likes, or dislikes related to dogs. The data is purely demographic, like ages and names. 

Since the query is about a personal preference and the context doesn't contain any information about preferences or dog-related topics, there's no data to support either 'yes' or 'no'. According to the rules, if the answer isn't in the context, I should say I don't know. But since the user is asking a question that's not addressed by the context, the correct response is 'no' because there's no information to indicate they like dogs. Wait, but the rules say if the answer isn't in the context, say you don't know. However, the user's question is about a preference, which isn't in the context. So the answer should be 'no' because there's no data to confirm or deny the preference. But wait, the rules say if the answer is not in the context, say you don't know. But the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no information. Wait, maybe the answer is 'no' because the context doesn't mention anything about the user's preferences. But the user is asking if they like dogs, which is a personal question. Since the context doesn't have any information about the user's preferences, the correct answer is 'no' because there's no data to support it. But according to the rules, if the answer isn't in the context, say you don't know. However, the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no data. Wait, but the rules say if the answer is not in the context, just say that you don't know. But in this case, the answer is 'no' because the context doesn't mention anything. But the user is asking a question that's not addressed by the context. So the answer should be 'no' because there's no information to answer the question. But the rules say if the answer isn't in the context, say you don't know. However, the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no data. But the rules might require that if the answer isn't in the context, you say you don't know. But in this case, the answer is 'no' because the context doesn't have the information. Wait, the problem says if the answer is not in the context, output 'no'. But the user's question is about a preference, which isn't in the context. So the answer is 'no' because there's no information to confirm or deny the preference. But according to the rules, if the answer isn't in the context, say 'no'. So the answer is 'no'.
</think>

no
25-07-14.16:04:22.622 [http-nio-8091-exec-6] INFO  AiAgentController      - AiAgent 智能体对话，结果 5 {"code":"0000","data":"<think>\nOkay, let's see. The user asked, \"我喜欢狗吗？\" which means \"Do I like dogs?\" in English. Now, I need to check if the context provided includes any information related to the user's preference for dogs.\n\nLooking at the context, there's a list of people with their ages. The names are various, but there's no mention of any preferences, likes, or dislikes related to dogs. The data is purely demographic, like ages and names. \n\nSince the query is about a personal preference and the context doesn't contain any information about preferences or dog-related topics, there's no data to support either 'yes' or 'no'. According to the rules, if the answer isn't in the context, I should say I don't know. But since the user is asking a question that's not addressed by the context, the correct response is 'no' because there's no information to indicate they like dogs. Wait, but the rules say if the answer isn't in the context, say you don't know. However, the user's question is about a preference, which isn't in the context. So the answer should be 'no' because there's no data to confirm or deny the preference. But wait, the rules say if the answer is not in the context, say you don't know. But the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no information. Wait, maybe the answer is 'no' because the context doesn't mention anything about the user's preferences. But the user is asking if they like dogs, which is a personal question. Since the context doesn't have any information about the user's preferences, the correct answer is 'no' because there's no data to support it. But according to the rules, if the answer isn't in the context, say you don't know. However, the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no data. Wait, but the rules say if the answer is not in the context, just say that you don't know. But in this case, the answer is 'no' because the context doesn't mention anything. But the user is asking a question that's not addressed by the context. So the answer should be 'no' because there's no information to answer the question. But the rules say if the answer isn't in the context, say you don't know. However, the user's question is a yes/no question, and since the context doesn't have the answer, the answer is 'no' because there's no data. But the rules might require that if the answer isn't in the context, you say you don't know. But in this case, the answer is 'no' because the context doesn't have the information. Wait, the problem says if the answer is not in the context, output 'no'. But the user's question is about a preference, which isn't in the context. So the answer is 'no' because there's no information to confirm or deny the preference. But according to the rules, if the answer isn't in the context, say 'no'. So the answer is 'no'.\n</think>\n\nno","info":"成功"}
25-07-14.16:04:52.700 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:04:52.796 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:05:52.698 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:05:52.791 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:06:19.222 [http-nio-8091-exec-8] INFO  AiAgentController      - AiAgent 智能体对话，请求 5 我喜欢狗吗？
25-07-14.16:06:23.729 [http-nio-8091-exec-8] INFO  FlowExecutorService    - Client 5 output: <think>
Okay, let's see. The user asked, "我喜欢狗吗？" which means "Do I like dogs?" in English. Now, I need to check if the context provided contains any information related to the user's preference for dogs.

Looking at the context, there's a list of people with their ages. The names are all different, and the ages range from 19 to 58. The context doesn't mention anything about the user's preferences, hobbies, or any characteristics related to dogs. The only thing mentioned is the ages of various individuals. 

Since the query is about whether the user likes dogs, and there's no information in the context about the user's preferences or any related data, the answer should be 'no' because the context doesn't mention anything about the user's preferences. The user's preference isn't addressed here.
</think>

no
25-07-14.16:06:23.732 [http-nio-8091-exec-8] INFO  AiAgentController      - AiAgent 智能体对话，结果 5 {"code":"0000","data":"<think>\nOkay, let's see. The user asked, \"我喜欢狗吗？\" which means \"Do I like dogs?\" in English. Now, I need to check if the context provided contains any information related to the user's preference for dogs.\n\nLooking at the context, there's a list of people with their ages. The names are all different, and the ages range from 19 to 58. The context doesn't mention anything about the user's preferences, hobbies, or any characteristics related to dogs. The only thing mentioned is the ages of various individuals. \n\nSince the query is about whether the user likes dogs, and there's no information in the context about the user's preferences or any related data, the answer should be 'no' because the context doesn't mention anything about the user's preferences. The user's preference isn't addressed here.\n</think>\n\nno","info":"成功"}
25-07-14.16:06:36.067 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.16:06:36.069 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.16:06:36.076 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.16:06:36.077 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.16:06:36.077 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.16:06:36.102 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.16:06:36.102 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.16:06:36.182 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-07-14.16:06:38.527 [main            ] INFO  Application            - Starting Application using Java 17.0.14 with PID 18445 (/Users/kimwonjoon/Desktop/boot/ai-agent-station/ai-agent-station-app/target/classes started by kimwonjoon in /Users/kimwonjoon/Desktop/boot/ai-agent-station)
25-07-14.16:06:38.528 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-14.16:06:38.998 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-07-14.16:06:38.999 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-07-14.16:06:39.013 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
25-07-14.16:06:39.380 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
25-07-14.16:06:39.391 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-07-14.16:06:39.391 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-14.16:06:39.391 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.36]
25-07-14.16:06:39.417 [main            ] INFO  [/ai-agent-station]    - Initializing Spring embedded WebApplicationContext
25-07-14.16:06:39.417 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 877 ms
25-07-14.16:06:39.669 [main            ] INFO  Version                - Redisson 3.26.0
25-07-14.16:06:39.681 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
25-07-14.16:06:39.778 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:06:39.925 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 60.204.240.211/60.204.240.211:16379
25-07-14.16:06:40.109 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:06:40.111 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_ollama in schema: public
25-07-14.16:06:40.111 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-07-14.16:06:40.570 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint beneath base path '/actuator'
25-07-14.16:06:40.593 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-07-14.16:06:40.596 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path '/ai-agent-station'
25-07-14.16:06:40.607 [main            ] INFO  Application            - Started Application in 2.292 seconds (process running for 2.702)
25-07-14.16:06:40.618 [scheduling-1    ] INFO  AgentTaskJob           - 开始刷新智能体任务调度配置
25-07-14.16:06:40.619 [main            ] INFO  Application            - 预热AiAgent服务，开始
25-07-14.16:06:40.625 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-07-14.16:06:40.905 [scheduling-1    ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@49a009b
25-07-14.16:06:40.907 [scheduling-1    ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-07-14.16:06:40.975 [scheduling-1    ] INFO  AgentTaskJob           - 智能体任务调度配置刷新完成，当前活跃任务数: 0
25-07-14.16:06:40.996 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_6
25-07-14.16:06:40.997 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientEmbeddingModel_5
25-07-14.16:06:40.998 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.16:06:40.998 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_3
25-07-14.16:06:40.999 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_1
25-07-14.16:06:41.000 [main            ] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_2
25-07-14.16:06:41.000 [main            ] INFO  Application            - 预热AiAgent服务，完成
25-07-14.16:06:41.516 [RMI TCP Connection(3)-127.0.0.1] INFO  [/ai-agent-station]    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-14.16:06:41.516 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-14.16:06:41.516 [RMI TCP Connection(3)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-14.16:06:41.542 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:06:41.769 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@a21ab08
25-07-14.16:06:41.770 [RMI TCP Connection(4)-127.0.0.1] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:06:48.461 [http-nio-8091-exec-1] INFO  AiAgentController      - AiAgent 智能体对话，请求 5 我喜欢狗吗？
25-07-14.16:06:48.545 [http-nio-8091-exec-1] ERROR AiAgentController      - AiAgent 智能体对话，异常 5 我喜欢狗吗？
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ChatClient_5' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1278)
	at top.kimwonjoon.domain.agent.service.chat.ClientAssemblyService.assembleClientFlow(ClientAssemblyService.java:41)
	at top.kimwonjoon.domain.agent.service.chat.FlowExecutorService.executeAgentFlow(FlowExecutorService.java:42)
	at top.kimwonjoon.trigger.http.AiAgentController.chatAgent(AiAgentController.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
25-07-14.16:06:53.648 [http-nio-8091-exec-4] INFO  AiAgentController      - 预热装配 AiAgent 5
25-07-14.16:06:53.688 [pool-2-thread-1 ] INFO  RootNode               - 查询配置数据(ai_client_model) [5]
25-07-14.16:06:53.689 [pool-2-thread-2 ] INFO  RootNode               - 查询配置数据(ai_vector_database) [5]
25-07-14.16:06:53.689 [pool-2-thread-3 ] INFO  RootNode               - 查询配置数据(ai_client_tool_mcp) [5]
25-07-14.16:06:53.690 [pool-2-thread-4 ] INFO  RootNode               - 查询配置数据(ai_client_advisor) [5]
25-07-14.16:06:53.690 [pool-2-thread-5 ] INFO  RootNode               - 查询配置数据(ai_client_system_prompt) [5]
25-07-14.16:06:53.691 [pool-2-thread-6 ] INFO  RootNode               - 查询配置数据(ai_client) [5]
25-07-14.16:06:53.808 [http-nio-8091-exec-4] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"clientIdList":[5]}
25-07-14.16:06:53.808 [http-nio-8091-exec-4] INFO  AiClientToolMcpNode    - Ai Agent 构建，tool mcp 节点 {"clientIdList":[5]}
25-07-14.16:06:53.808 [http-nio-8091-exec-4] WARN  AiClientToolMcpNode    - 没有可用的AI客户端工具配置 MCP
25-07-14.16:06:53.808 [http-nio-8091-exec-4] INFO  AiClientModelNode      - Ai Agent 构建，客户端构建节点 {"clientIdList":[5]}
25-07-14.16:06:53.809 [http-nio-8091-exec-4] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientModel_4
25-07-14.16:06:53.809 [http-nio-8091-exec-4] INFO  AbstractArmorySupport  - 成功注册Bean: DataBaseDrive_1
25-07-14.16:06:53.809 [http-nio-8091-exec-4] INFO  VectorDatabaseNode     - 注册了一个pgvector数据库连接池，beanName：{DataBaseDrive_1
25-07-14.16:06:53.809 [http-nio-8091-exec-4] INFO  AiClientAdvisorNode    - Ai Agent 构建，advisor 顾问节点 {"clientIdList":[5]}
25-07-14.16:06:53.855 [http-nio-8091-exec-4] INFO  PgVectorStore          - Using the vector table name: vector_store_ollama. Is empty: false
25-07-14.16:06:53.878 [http-nio-8091-exec-4] INFO  AbstractArmorySupport  - 成功注册Bean: AiClientAdvisor_5
25-07-14.16:06:53.878 [http-nio-8091-exec-4] INFO  AiClientNode           - Ai Agent 构建，对话模型节点 {"clientIdList":[5]}
25-07-14.16:06:53.883 [http-nio-8091-exec-4] INFO  AbstractArmorySupport  - 成功注册Bean: ChatClient_5
25-07-14.16:06:55.976 [http-nio-8091-exec-5] INFO  AiAgentController      - AiAgent 智能体对话，请求 5 我喜欢狗吗？
25-07-14.16:06:56.346 [http-nio-8091-exec-5] INFO  HikariDataSource       - PgVectorHikariPool - Starting...
25-07-14.16:06:56.508 [http-nio-8091-exec-5] INFO  HikariPool             - PgVectorHikariPool - Added connection org.postgresql.jdbc.PgConnection@c21d412
25-07-14.16:06:56.509 [http-nio-8091-exec-5] INFO  HikariDataSource       - PgVectorHikariPool - Start completed.
25-07-14.16:07:00.395 [http-nio-8091-exec-5] INFO  FlowExecutorService    - Client 5 output: <think>
Okay, let's see. The user is asking, "我喜欢狗吗？" which means "Do I like dogs?" in English.

Looking at the context provided: "欧几里得距离是一种度量两个点之间距离的方法。 我不喜欢狗。" So the context says that the person doesn't like dogs. 

The user's question is directly asking if the person likes dogs. Since the context explicitly states "我不喜欢狗" (I don't like dogs), the answer should be "no". 

I need to check if there's any other information in the context that might affect this answer. The rest of the context talks about Euclidean distance, which is unrelated. So the answer is straightforward. 

No need to consider any other factors here. The answer is clear from the given context.
</think>

no
25-07-14.16:07:00.400 [http-nio-8091-exec-5] INFO  AiAgentController      - AiAgent 智能体对话，结果 5 {"code":"0000","data":"<think>\nOkay, let's see. The user is asking, \"我喜欢狗吗？\" which means \"Do I like dogs?\" in English.\n\nLooking at the context provided: \"欧几里得距离是一种度量两个点之间距离的方法。 我不喜欢狗。\" So the context says that the person doesn't like dogs. \n\nThe user's question is directly asking if the person likes dogs. Since the context explicitly states \"我不喜欢狗\" (I don't like dogs), the answer should be \"no\". \n\nI need to check if there's any other information in the context that might affect this answer. The rest of the context talks about Euclidean distance, which is unrelated. So the answer is straightforward. \n\nNo need to consider any other factors here. The answer is clear from the given context.\n</think>\n\nno","info":"成功"}
25-07-14.16:07:39.661 [SpringApplicationShutdownHook] INFO  GracefulShutdown       - Commencing graceful shutdown. Waiting for active requests to complete
25-07-14.16:07:39.662 [tomcat-shutdown ] INFO  GracefulShutdown       - Graceful shutdown complete
25-07-14.16:07:39.666 [SpringApplicationShutdownHook] INFO  AgentTaskJob           - 所有智能体任务已取消
25-07-14.16:07:39.666 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown initiated...
25-07-14.16:07:39.667 [SpringApplicationShutdownHook] INFO  HikariDataSource       - PgVectorHikariPool - Shutdown completed.
25-07-14.16:07:39.691 [SpringApplicationShutdownHook] INFO  RedisChatMemory        - Redisson client shutdown successfully
25-07-14.16:07:39.692 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-07-14.16:07:39.800 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
